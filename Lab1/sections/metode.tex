\section{Metode}

For å analysere og simulere telegrafligningen og dens effekter på signaloverføring i transmisjonslinjer, benyttet vi følgende metoder:

\begin{itemize}
    
    \item \textbf{Numerisk simulering:} \textcolor{red}{Vi implementerte telegrafligningen i et numerisk simuleringsverktøy (f.eks. MATLAB eller Python) for å modellere signaloverføring over en gitt lengde av transmisjonslinjen. Dette inkluderte å simulere impulsresponsen og overføringsfunksjonen.}
    \item \textbf{Parameterstudie:} \textcolor{red}{Vi varierte parametrene R, L, G, og C for å observere deres individuelle og kollektive effekter på signaldemping og forvrengning. Dette hjalp oss med å identifisere hvilke faktorer som har størst innvirkning på signalintegriteten.}
    \item \textbf{Labaratoriestudie:}\textcolor{red}{ Vi gjennomførte eksperimenter med faktiske kabler og måleutstyr for å validere våre simuleringer. Dette inkluderte måling av signalrespons ved forskjellige frekvenser og sammenligning med teoretiske prediksjoner.}
\end{itemize}
\textcolor{red}{NYTT FORSLAG TIL METODE}

\subsection{Oversikt}
Vi kombinerer numerisk modellering av transmisjonslinjen med laboratoriemålinger, og sammenlikner frekvens- og tidsdomene-respons for å validere modellen. Metodepipeline:
(i) simulering i Python/MATLAB, (ii) måling på kabel, (iii) signalprosessering,
(iv) parameterestimering, (v) sammenligning mot kriterier.

\subsection{Numerisk modell}
\paragraph{Modellantakelser.}
Vi modellerer kabelen som en lineær, tidsinvariant linje med fordelte parametre $R(f),L,C,G(f)$ per meter og bruker
\[
\gamma(\omega)=\sqrt{(R+j\omega L)(G+j\omega C)},\qquad
H(\omega)=e^{-\gamma(\omega)\,\ell}.
\]
I basis-analysen antar vi ren gjennomgang $H(\omega)$ (ingen refleksjoner); kilde- og lastimpedanser adresseres i et separat delkapittel (ABCD) dersom aktuelt.

\paragraph{Frekvensavhengigheter.}
Resistans skaleres med skinneffekt $R(f)=R_0\sqrt{f/f_\mathrm{ref}}$ (for $f>0$), og dielektriske tap modelleres ved
$G(\omega)=\omega C \tan\delta$. Disse parameterne hentes/justeres fra datablad og brukes som startverdier i tilpasning.

\paragraph{Inngangssignal og representasjon.}
Vi representerer pulstoget med Fourier-rekke $f(t)=\Re\{\sum_n c_n e^{jn\omega_0 t}\}$ (periode $T$, duty $d$) og lar hver harmoniske dempes av $H(n\omega_0)$. Antall ledd $N_\text{harm}$ og tidsoppløsning $(N_t)$ velges etter konvergenstester (dobling/halvering) for å sikre stabil amplitude/risetid innen en toleranse på SIX.

\paragraph{Implementasjonsdetaljer.}
Python $3.x$ med NumPy/Matplotlib. Kode og versjoner vedlegges (repo/appendiks). Vi dokumenterer alle faste parametre ($R_0,L,C,\tan\delta,f_\mathrm{ref}$) og kabel-lengder.

\subsection{Laboratoriestudie}
\paragraph{Utstyr og oppkobling.}
Funksjonsgenerator (modell/versjon), oscilloskop (båndbredde, sampling, vertikal oppløsning), termineringsmotstand(er), referanse-koaks, testkabel (kategori, lengde). Vi gir koblingsskisse, jordingspraksis og kabellengder for de-embedding.

\paragraph{Signaler og innstillinger.}
Tidsdomene (trinn/kvadratpuls/PRBS) og eventuelt swept-sine. For oscilloskop: samplingsfrekvens, antall punkter, antall averages, båndbreddefilter, trigger. Miljødata (temp/fukt) logges.

\paragraph{Måleprosedyre.}
(1) Kalibrer prober/koaks. (2) Mål referanse (direktekobling) for systemidentifikasjon.
(3) Mål gjennom kabel ved samme oppsett. (4) Repeter $n$ ganger for å estimere repetérbarhet.

\subsection{Databehandling og estimering}
\paragraph{Frekvensrespons.}
Estimér $H_\text{målt}(\omega)$ fra tidsserier via FFT (vindustype, segmentlengde, overlap, Welch-averaging). De-embedd referanseledninger ved å dividere ut referansemåling.

\paragraph{Parameterestimering.}
Tilpass $R_0, L, C, \tan\delta$ ved å minimere
\[
\min_\theta \sum_{\omega\in\Omega} \left|\log H_\text{målt}(\omega) + \gamma(\theta;\omega)\,\ell\right|^2,
\]
og rapporter usikkerhet (bootstrap/repetisjoner + instrumentspesifikasjoner).

\subsection{Metrikker og akseptkriterier}
Vi sammenligner $|H(\omega)|$, fase/gruppeforsinkelse, risetid og oversving i tidsdomene. Akseptkriterier:
RMS-avvik $\leq X$ dB over $f_1 - f_2$, risetidsavvik $\leq Y$. Avvik diskuteres mot usikkerhetsbudsjettet.

\subsection{Reproduserbarhet}
Vi publiserer rådata, skript, faste parametre og seeds. Maskinvare/firmware og OS-versjoner oppgis. \\ \textcolor{red}{MULIG VI MÅ ENDRE NOE HER}





\subsection{Numerisk simulering}
For å kunne presentere resultatene fra denne rapporten velger vi å simulere telegrafligningen numerisk. Dette gjøres ved å bruke en differensiallikning som beskriver spenningen og strømmen i en transmisjonslinje. Telegrafligningen kan uttrykkes som to koblede førsteordens differensiallikninger. \\ Koden for denne simuleringen lager et firkant-pulstog og deretter beregner Fourier-rekka numerisk. Hver harmoniske tilfelle av fourier-transformasjonen blir deretter sendt gjennom transmisjonslinjen ved å bruke overføringsfunksjonen. Signalet vi simulerer vil oppleve transmisjonstap med RLGC. Koden viser amplitudespekteret etter kabelen og tidsdomenesignalet etter ulike kabellengder, hhv. 10m, 50m og 100m. \\ koden er vedlagt i vedlegg \ref{appendix:code}. \textcolor{red}{SKAL VÆRE EN HENVENDELSE TIL VEDLEGG} \\ Koden er strukturert og fungerer følgende:



\subsection{Parameterstudie}

Dette avsnittet beskriver hvordan vi gjennomførte en parameterstudie for å undersøke effekten av de ulike parametrene i telegrafligningen på signaloverføring i en transmisjonslinje. Vi fokuserte på fire hovedparametere: motstand (R), induktans (L), konduktans (G), og kapasitans (C). Dette forsøket ble utført ved å variere hver parameter individuelt mens de andre ble holdt konstante, for å isolere deres spesifikke effekter på signaldemping og forvrengning. \\ Dette studiet ble utført ved hjelp av numeriske simuleringer i et verktøy som MATLAB eller Python. Vi modellerte en transmisjonslinje med en fast lengde og sendte et standardisert signal gjennom linjen, mens vi målte utgangssignalet for hver kombinasjon av parameterverdier. \\ \textcolor{red}{Vi startet med å definere en basislinje for hver parameter basert på typiske verdier for en standard Ethernet-kabel. Deretter varierte vi hver parameter over et realistisk spekter: DETTE I RØDT SKAL ENDRES TIL VÅRT FAKTISK FORSØK}

\subsection{Labaratoriestudie}

Labaratoriestudien ble utført ved å koble opp en funksjonsgenerator til et oscilloskop gjennom en kjent lengde av Ethernet-kabel. Vi brukte en Cat-5 kabel med spesifikasjoner som følger:
\begin{itemize}
    \item Motstand per lengdeenhet (R): 0.188 $\Omega/\mathrm{m}$
    \item Induktans per lengdeenhet (L): 0.25 $\mu \mathrm{H}/\mathrm{m}$
    \item Konduktans per lengdeenhet (G): 0.10 $\mathrm{mS}/\mathrm{m}$
    \item Kapasitans per lengdeenhet (C): 52 $\mathrm{pF}/\mathrm{m}$
\end{itemize}
Vi sendte et \textcolor{red}{type (kvadratisk, raskt?)} signal med en frekvens på \textcolor{red}{x Hz} fra en funksjonsgenerator gjennom en Ethernet-kabel og målte signalet ved mottakersiden med oscilloskopet. Vi registrerte både inngangs- og utgangssignalet for å analysere demping og forvrengning. Signalet ble sammenlignet med det av en direktekobling med koaksialkabel. Dette var for å ha en referanse for å vurdere effekten av transmisjonslinjen, og knytte den utledede teorien opp til praktiske observasjoner på labaratoriet. Resultatene fra målingene ble deretter sammenlignet med de numeriske simuleringene for å validere modellens nøyaktighet.
